(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(135)},130:function(e,t,a){},131:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(103),l=a.n(o),r=(a(130),a(131),a(141)),s=a(146);const c=e=>{let{notes:t,onDelete:a,onSelect:n,selectedId:o}=e;return i.a.createElement(r.a,{className:"noteListContainer",itemLayout:"horizontal",dataSource:t,renderItem:(e,t)=>i.a.createElement(r.a.Item,{style:{background:e.id===o?"#F1F1F1":"#FFFFFF"},key:e.id,actions:[i.a.createElement(s.a,{style:{cursor:"grab/pointer"},onClick:t=>{t.stopPropagation(),a(e.id)}})],onClick:()=>n(e.id)},i.a.createElement(r.a.Item.Meta,{title:e.createdAt.toUTCString(),description:"".concat(e.plainText.slice(0,15),"...")}))})};var d=a(119),p=a(142),u=a(115);const m=e=>{let{note:t,onSave:a}=e;const o=Object(n.useRef)(null),[l,r]=p.a.useMessage();return i.a.createElement("div",{className:"notesEditorContainer"},i.a.createElement(d.a,{tinymceScriptSrc:"/coding-assessment/tinymce/tinymce.min.js",onInit:(e,t)=>{o.current=t},initialValue:t?t.displayText:"...type your note here...",init:{width:"60vw",menubar:!1,branding:!1,promotion:!1,plugins:"advlist autolink lists link image charmap print preview anchor insertdatetime media table paste code help wordcount visualchars",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),i.a.createElement(u.a,{type:"primary",onClick:()=>{let e=void 0;if(o.current){var n;const t=null===o||void 0===o?void 0:null===(n=o.current)||void 0===n?void 0:n.plugins.wordcount.body.getCharacterCount();t<20&&(e="Notes require a minimum of 20 characters"),t>300&&(e="Note exceeds the 300 max character count ")}else e="Notes application failed to load, please refresh the page";e?p.a.open({type:"error",content:e}):(a({id:null===t||void 0===t?void 0:t.id,plainText:o.current.getContent({format:"text"}),displayText:o.current.getContent()}),p.a.open({type:"success",content:"Note successfully saved"}))}},"Save"))};var v=a(144);class y{constructor(e){let{plainText:t,displayText:a}=e;this.id=void 0,this.plainText=void 0,this.displayText=void 0,this.createdAt=void 0,this.id=Object(v.a)(),this.plainText=t,this.displayText=a,this.createdAt=new Date}setDisplayText(e){this.displayText=this.displayText}setPlainText(e){this.plainText=e}}const h=()=>{var e;const t=null!==(e=localStorage.getItem("notes_app"))&&void 0!==e?e:"[]";return JSON.parse(t).map(e=>(e.createdAt=new Date(Date.parse(e.createdAt)),e))},g=e=>{const t=JSON.stringify(e);localStorage.setItem("notes_app",t)},x=h,f=e=>{const t=h();t.push(e),g(t)},T=e=>{const t=h(),a=t.filter(t=>t.id!==e);return g(a),a.length!==t.length},E=(e,t,a)=>{const n=h(),i=n.find(t=>t.id===e),o=n.filter(t=>t.id!==e);i.displayText=a,i.plainText=t,g([...o,i])},b=(e,t)=>t.createdAt.getTime()-e.createdAt.getTime();var S=a(114),w=a(143);const C=()=>{const[e,t]=Object(n.useState)([]),[a,o]=Object(n.useState)(),[l,r]=Object(n.useState)("");Object(n.useEffect)(()=>{const e=s();t(e),o(e[0])},[]),Object(n.useEffect)(()=>{let a;if(l.length){a=new S.a(e,{isCaseSensitive:!0,includeScore:!1,keys:["displayText"]}).search(l).map(e=>e.item)}else a=s();t(a),o(a[0])},[l]);const s=()=>{const e=(()=>{const e=x();return e.sort(b),e})();return t(e),e};return i.a.createElement("div",{className:"notesLayout"},i.a.createElement("div",{id:"sidebar_container",className:"leftContainer"},i.a.createElement(w.a,{placeholder:" Notes...",value:l,onChange:e=>r(e.target.value)}),i.a.createElement(u.a,{style:{width:"100%"},type:"primary",onClick:()=>{o(void 0)}},"+ New Note"),i.a.createElement(c,{selectedId:null===a||void 0===a?void 0:a.id,notes:e,onDelete:e=>{(e=>{T(e)})(e);const t=s();o(t[0])},onSelect:t=>{const a=e.find(e=>e.id===t);o(a)}})),i.a.createElement(m,{note:a,onSave:e=>{let{id:t,plainText:a,displayText:n}=e;if(t)((e,t,a)=>{E(e,t,a)})(t,a,n);else{const e=(e=>{let{plainText:t,displayText:a}=e;const n=new y({plainText:t,displayText:a});return f(n),n})({plainText:a,displayText:n});o(e)}return s(),!0}}))};var N=a(145);var F=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"header"},"Notes Application",i.a.createElement(N.a,{style:{margin:"5px 0px 0px 0px"}})),i.a.createElement(C,null))};var k=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,147)).then(t=>{let{getCLS:a,getFID:n,getFCP:i,getLCP:o,getTTFB:l}=t;a(e),n(e),i(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(F,null))),k()}},[[123,1,2]]]);
//# sourceMappingURL=main.1ee4f0f6.chunk.js.map